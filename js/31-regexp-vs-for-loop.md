# 3桁区切りを極める！正規表現 vs forループ

<br>

Paizaの問題を解いていたら、「数字を3桁ごとにカンマ区切りする」という場面に遭遇。
最初は直感でforループを書いたけど、「もっとスマートな方法あるのでは？」と気づいたので、いくつかの解法を比較してみる。

## <br>問題概要

入力例:
```
123456789  
```
出力例:
```
123,456,789  
```
数値を3桁ごとにカンマ区切りで出力する。入力される数値は3の倍数。

https://paiza.jp/works/mondai/stdout_primer/stdout_primer__specific_split_step6


## <br>解法①: 正規表現  `.match()` を使う
```js
const result = input.match(/.{1,3}/g).join(",");
console.log(result);  // 123,456,789
```

🔍 ポイント
- `/` で囲まれた部分が正規表現
- `.{1,3}` で1〜3文字のグループを作る
- `g` はグローバルフラグで、文字列全体に対してマッチを繰り返す

この方法のポイントは、余った文字（この例では最後の “j”）もそのまま結果に含まれる点。
    
`.match()` で配列化し、`.join(",")` でカンマを挿入・結合

<br>✅ メリット: シンプルで短いコード
❌ デメリット: 数の先頭から3文字ずつ切るので、`1,234,567` みたいなフォーマットにはならない

## <br>解法②: `for`ループで手動処理
```js
let result = "";

for (let i = 0; i < input.length; i++) {
    if (i % 3 === 0 && i !== 0) result += ",";
    result += input[i];
}

console.log(result);  // 123,456,789
```
🔍 ポイント
- 3文字ごとに `if` でカンマを挿入
- シンプルで可読性が高い

✅ メリット: 直感的で理解しやすい
❌ デメリット: カスタマイズ性が低い

## <br>解法③: `.split()` と `.map()` を活用
```js

const result = input.split("").map((char, index) => 
    (index % 3 === 0 && index !== 0 ? "," : "") + char).join("");

console.log(result);  // 123,456,789
```

🔍 ポイント
- `.split("")` で配列化し、.map() でカンマを追加
- `.join("")` で連結

✅ メリット: 配列操作に慣れている人なら直感的
❌ デメリット: ちょっと冗長

### <br> まとめ
短さ優先 → `match()` を使う
初心者向け → `for`ループ で素直に書く
応用力重視 → `split()` & `map()` を使う

[僕の失敗談と解決話！](https://paizabeginner.wordpress.com/2025/03/23/paiza%e3%81%a7%e5%9f%ba%e6%9c%ac%e3%83%9e%e3%82%b9%e3%82%bf%e3%83%bc-%e6%95%b0%e5%ad%97%e3%81%ae%e3%82%ab%e3%83%b3%e3%83%9e%e5%8c%ba%e5%88%87%e3%82%8a-%e6%ad%a3%e8%a6%8f%e8%a1%a8%e7%8f%be%e3%81%a7/)
